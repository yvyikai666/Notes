# Linux

<img src="LinuxåŸºç¡€.assets/linux.jpg" alt="linux"  />

[TOC]

## å¸¸è§å‘½ä»¤å’ŒæŠ€å·§

å‚è€ƒ[Linux å¸¸ç”¨å‘½ä»¤å­¦ä¹  | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/w3cnote/linux-common-command-2.html)

å°†æ•°æ®åŒæ­¥å†™å…¥ç¡¬ç›˜ä¸­ï¼š sync

su - : å˜æˆroot ç„¶åexitå›åˆ°åŸç”¨æˆ·

å…³æœºï¼š shutdownï¼Œ`shutdown now`: ç«‹åˆ»å…³æœºï¼Œå¦åˆ™ä¸€åˆ†é’Ÿåå…³æœº

å¤åˆ¶ä¸ç²˜è´´æŠ€å·§ï¼šåŒå‡»å¯å¤åˆ¶æ–‡ä»¶åï¼Œå•å‡»ä¸­é”®å°†å…¶ç²˜è´´

å¯ä»¥é€šè¿‡==info==å’Œ==man==å’Œ==/usr/share/doc==æ–‡æ¡£æ¥è·å–å¸®åŠ©å¦‚æœçŸ¥é“æŸä¸ªæŒ‡ä»¤ä½†å¿˜äº†ç›¸å…³æŒ‡ä»¤å’Œå‚æ•°å¯ä»¥ç”¨`xxx --help`æŸ¥è¯¢

resetï¼šé‡æ–°åˆå§‹åŒ–ç»ˆç«¯

logoutï¼šé‡æ–°ç™»å½•

hostnamectl set-hostname dvwaï¼šä¿®æ”¹å

clear: æ¸…å±

==rm -rf /\*==: ğŸ¤£

è¾“å…¥å‰ä¸¤ä¸ªå­—æ¯ç„¶åæŒ‰ä¸¤æ¬¡[TAB]å¯ä»¥æ˜¾ç¤ºæ‰€æœ‰ä»¥æ­¤å¼€å¤´çš„å‘½ä»¤

### è¾“å‡ºé‡å®šå‘

å¯ä»¥å°†ç»“æœè¾“å‡ºåˆ°å…¶ä»–æ–‡ä»¶

é‡å®šå‘æ“ä½œç¬¦ï¼š`>`

```shell
ls -l /usr/bin > ls-output.txt  # å°†lsçš„ç»“æœè¾“å‡ºåˆ°ls-output.txt
```

> ä¼šè¦†ç›–åŸæ–‡ä»¶
>
> ä½¿ç”¨`>>`å°±æ˜¯è¿½åŠ 

å°†æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯è¾“å‡ºåˆ°æ–‡ä»¶

```shell
ls -l /bin/usr/ &> ls-output.txt
```

### Ubuntuç³»ç»Ÿå®‰è£…å’Œå¸è½½è½¯ä»¶

1. ç¦»çº¿å®‰è£…

   ä¸‹è½½debæ ¼å¼å®‰è£…åŒ…æ–‡ä»¶

   `sudo dpkg -i xxx.deb`: å®‰è£…åŒ…

   `sudo dpkg -r packageName`: åˆ é™¤åŒ…

2. aptå®‰è£…å’Œå¸è½½

   ```shell
   sudo apt update # æ›´æ–°æº
   sudo apt install package  # å®‰è£…åŒ…
   sudo apt remove package  # åˆ é™¤åŒ…
   ```

   è·å–æ‰€æœ‰å·²ç»å®‰è£…çš„åˆ—è¡¨

   `sudo apt list --installed`

   ==remove==å‘½ä»¤å¸è½½æŒ‡å®šè½¯ä»¶åŒ…ï¼Œä½†æ˜¯ç•™ä¸‹ä¸€äº›åŒ…æ–‡ä»¶ã€‚å¦‚æœä½ æƒ³å¸è½½è½¯ä»¶åŒ…ï¼ŒåŒ…æ‹¬å®ƒçš„æ–‡ä»¶ï¼Œä½¿ç”¨==purge==æ›¿æ¢==remove==ï¼š

   ```shell
   sudo apt purge package_name
   sudo apt purge ros-*
   ```

3. å¸è½½Snapè½¯ä»¶åŒ…

   åˆ—å‡ºæ‰€æœ‰çš„snapè½¯ä»¶åŒ…

   `snap list`

   å¸è½½ï¼š`sudo snap remove package_name`

4. ç§»é™¤ä¸å†ä½¿ç”¨çš„è½¯ä»¶åŒ…`sudo apt autoremove`

### yumå¸¸ç”¨å‘½ä»¤ï¼š

> yumå¸¸ç”¨å‘½ä»¤
> 1. åˆ—å‡ºæ‰€æœ‰å¯æ›´æ–°çš„è½¯ä»¶æ¸…å•å‘½ä»¤ï¼šyum check-update
>
> 2. æ›´æ–°æ‰€æœ‰è½¯ä»¶å‘½ä»¤ï¼šyum update
>
> 3. ä»…å®‰è£…æŒ‡å®šçš„è½¯ä»¶å‘½ä»¤ï¼šyum install <package_name>
>
> 4. ä»…æ›´æ–°æŒ‡å®šçš„è½¯ä»¶å‘½ä»¤ï¼šyum update <package_name>
>
> 5. åˆ—å‡ºæ‰€æœ‰å¯å®‰è£çš„è½¯ä»¶æ¸…å•å‘½ä»¤ï¼šyum list
>
> 6. åˆ é™¤è½¯ä»¶åŒ…å‘½ä»¤ï¼šyum remove <package_name>
>
> 7. æŸ¥æ‰¾è½¯ä»¶åŒ…å‘½ä»¤ï¼šyum search <keyword>
>
> 8. æ¸…é™¤ç¼“å­˜å‘½ä»¤:
>
> yum clean packages: æ¸…é™¤ç¼“å­˜ç›®å½•ä¸‹çš„è½¯ä»¶åŒ…
>
> yum clean headers: æ¸…é™¤ç¼“å­˜ç›®å½•ä¸‹çš„ headers
>
> yum clean oldheaders: æ¸…é™¤ç¼“å­˜ç›®å½•ä¸‹æ—§çš„ headers
>
> yum clean, yum clean all (= yum clean packages; yum clean oldheaders) :æ¸…é™¤ç¼“å­˜ç›®å½•ä¸‹çš„è½¯ä»¶åŒ…åŠæ—§çš„ headers

### çº¿ä¸ŠæŸ¥è¯¢å’Œå¸®åŠ©ï¼ˆä¸¤ä¸ªï¼‰

man(manual)ï¼šæŸ¥çœ‹å‘½ä»¤å¸®åŠ©å‘½ä»¤çš„è¯å…¸

helpï¼šæŸ¥çœ‹Linuxç³»ç»Ÿå†…ç½®å‘½ä»¤

### æ–‡ä»¶å’Œç›®å½•æ“ä½œï¼ˆ18ä¸ªï¼‰

lsï¼šæŸ¥çœ‹å½“å‰ç›®å½•å†…å®¹å’Œå†…å®¹å±æ€§çš„ä¿¡æ¯ï¼ˆé€šå¸¸æŒ‰ç…§å­—æ¯å‡åºæ’åˆ—ï¼‰

```shell
-l: ä»¥åˆ—è¡¨æ ¼å¼è¾“å‡ºè¯¦ç»†çš„ä¿¡æ¯ï¼ˆé•¿æ ¼å¼ï¼‰
-a --all: åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶åŒ…æ‹¬éšè—çš„
-r, --reverse: ä»¥å­—æ¯é™åºæ’åˆ—
-S: ä»¥æ–‡ä»¶å¤§å°æ’åˆ—
å¼€å¤´ç¬¬ä¸€ä¸ªå­—æ¯æ˜¯då°±æ˜¯ç›®å½•ï¼Œæ˜¯-å°±æ˜¯æ–‡ä»¶
```

cdï¼šæ”¹å˜å½“å‰å·¥ä½œç›®å½•

```shell
.ï¼šå½“å‰ç›®å½•
..ï¼šä¸Šä¸€çº§ç›®å½•
/ï¼šæ ¹ç›®å½•
~ï¼šä¸»ç›®å½•/å®¶ç›®å½•ï¼Œç›´æ¥è¾“å…¥cdä¹Ÿä¼šå›åˆ°å®¶ç›®å½•
-ï¼šåˆ‡æ¢å›ä¸Šä¸€ä¸ªå·¥ä½œç›®å½•
```

cpï¼šå¤åˆ¶/æ‹·è´æ–‡ä»¶æˆ–ç›®å½•

```shell
-r: å¤åˆ¶ç›®å½•çº§ç›®å½•å†…çš„æ‰€æœ‰é¡¹ç›®
```



pwdï¼šæ˜¾ç¤ºå½“å‰å·¥ä½œè·¯å¾„

mvï¼šç§»åŠ¨æ–‡ä»¶æˆ–ç›®å½•/é‡å‘½å

```shell
mv test.log test1.txt  # é‡å‘½å
-iï¼šç§»åŠ¨å‰è¯¢é—®
```



rmï¼šåˆ é™¤ç›®å½•æˆ–æ–‡ä»¶ï¼š

```shell
-r: å°†ç›®å½•ä»¥ä¸‹çš„å†…å®¹é€ä¸€åˆ é™¤
-f: å¼ºåˆ¶åˆ é™¤ï¼Œä¸éœ€è¦ç¡®è®¤
-i: åˆ é™¤å‰é€ä¸€è¯¢é—®ç¡®è®¤ rm -rfi day01
```



mkdirï¼šåˆ›å»ºä¸€ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰ç©ºçš„ç›®å½•`mkdir sec mca`

```shell
-p: é€å±‚å»åˆ›å»ºï¼š mkdir -p day01/images
```



rmdirï¼šåˆ é™¤ä¸€ä¸ªç©ºç›®å½•ï¼ˆä¸€èˆ¬ä¸ç”¨ï¼‰

touchï¼šåˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶

renameï¼šé‡å‘½åæ–‡ä»¶

findï¼šæ–‡ä»¶æŸ¥æ‰¾

treeï¼šä»¥æ ‘å½¢ç»“æ„æ˜¾ç¤º

md5sumï¼š

lsattr

fileï¼šæ˜¾ç¤ºæ–‡ä»¶ç±»å‹`file filename`

ç­‰

### æŸ¥çœ‹æ–‡ä»¶å†…å®¹åŠå†…å®¹å¤„ç†ï¼ˆ21ä¸ªï¼‰

catï¼šæŸ¥çœ‹æ–‡ä»¶å†…å®¹

```shell
cat file1 file2 > file  # å°†å‡ ä¸ªæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶
-b: å¯¹éç©ºè¡Œè¾“å‡ºè¡Œå·
-n: è¾“å‡ºæ‰€æœ‰è¡Œå·
```



moreï¼šç±»ä¼¼äºcatï¼Œmore ä¼šä»¥ä¸€é¡µä¸€é¡µçš„æ˜¾ç¤ºï¼ŒæŒ‰ç©ºç™½é”®ï¼ˆspaceï¼‰å°±å¾€ä¸‹ä¸€é¡µæ˜¾ç¤ºï¼ŒæŒ‰ b é”®å°±ä¼šå¾€å›ï¼ˆbackï¼‰ä¸€é¡µæ˜¾ç¤ºã€‚ï¼š

```
+n      ä»ç¬« n è¡Œå¼€å§‹æ˜¾ç¤º
-n       å®šä¹‰å±å¹•å¤§å°ä¸ºnè¡Œ
+/pattern åœ¨æ¯ä¸ªæ¡£æ¡ˆæ˜¾ç¤ºå‰æœå¯»è¯¥å­—ä¸²ï¼ˆpatternï¼‰ï¼Œç„¶åä»è¯¥å­—ä¸²å‰ä¸¤è¡Œä¹‹åå¼€å§‹æ˜¾ç¤º 
-c       ä»é¡¶éƒ¨æ¸…å±ï¼Œç„¶åæ˜¾ç¤º
-d       æç¤ºâ€œPress space to continueï¼Œâ€™qâ€™ to quitï¼ˆæŒ‰ç©ºæ ¼é”®ç»§ç»­ï¼ŒæŒ‰qé”®é€€å‡ºï¼‰â€ï¼Œç¦ç”¨å“é“ƒåŠŸèƒ½
-l        å¿½ç•¥Ctrl+lï¼ˆæ¢é¡µï¼‰å­—ç¬¦
-p       é€šè¿‡æ¸…é™¤çª—å£è€Œä¸æ˜¯æ»šå±æ¥å¯¹æ–‡ä»¶è¿›è¡Œæ¢é¡µï¼Œä¸-cé€‰é¡¹ç›¸ä¼¼
-s       æŠŠè¿ç»­çš„å¤šä¸ªç©ºè¡Œæ˜¾ç¤ºä¸ºä¸€è¡Œ
-u       æŠŠæ–‡ä»¶å†…å®¹ä¸­çš„ä¸‹ç”»çº¿å»æ‰
```

lessï¼šäºmoreç±»ä¼¼ï¼ŒæŸ¥çœ‹æ–‡æœ¬æ–‡ä»¶`less filename`æŒ‰qå»ºé€€å‡º

headï¼šæŸ¥çœ‹å‰å‡ è¡Œ

```shell
head 1.log -n 20  # æ˜¾ç¤ºæ–‡ä»¶çš„é’±20è¡Œ
head -c 20 1.log  # æ˜¾ç¤ºå‰20å­—èŠ‚
head -n -10 1.log  # æ˜¾ç¤ºæœ€å10è¡Œ
```



tailï¼šæŸ¥çœ‹æœ€åå‡ è¡Œ

cutï¼š

wcï¼šç»Ÿè®¡è¡Œæ•°

diffï¼šæ¯”è¾ƒå·®å¼‚çš„

vimdiffï¼š

tr

vi,vimï¼šç”¨vi/vimç¼–è¾‘

grepï¼š è¿‡æ»¤å­—ç¬¦

rev

ç­‰

### æ–‡ä»¶çš„å‹ç¼©å’Œè§£å‹ï¼ˆ4ä¸ªï¼‰

tar: å‹ç¼©å’Œè§£å‹æ–‡ä»¶

```shell
-c å»ºç«‹æ–°çš„å‹ç¼©æ–‡ä»¶
-f æŒ‡å®šå‹ç¼©æ–‡ä»¶
-r æ·»åŠ æ–‡ä»¶åˆ°ç°æœ‰çš„å‹ç¼©åŒ…ä¸­
-u æ·»åŠ æ”¹äº†å’Œç°æœ‰çš„æ–‡ä»¶åˆ°å‹ç¼©åŒ…ä¸­
-x ä»å‹ç¼©åŒ…æŠ½å–æ–‡ä»¶
-t æ˜¾ç¤ºå‹ç¼©æ–‡ä»¶ä¸­çš„å†…å®¹
-z æ”¯æŒgzipå‹ç¼©
-j
-Z
-v
```

å®ä¾‹ï¼š

```shell
tar -cvf log.tar 1.log, 2.log  # å°†æ–‡ä»¶å…¨éƒ¨æ‰“åŒ…æˆtaråŒ… æˆ–è€…tar -cvf log.*

```



unzip

gzip

zip

rar

ç­‰

### æ–‡ä»¶ä¼ è¾“

scpï¼šä¸æ”¯æŒæ–­ç‚¹ç»­ä¼ 

ssh

rsyncï¼šå¢é‡æ”¯æŒæ–­ç‚¹

### ä¿¡æ¯æ˜¾ç¤ºçš„å‘½ä»¤

uname

hostname

dmesg

uptime

statï¼šæ˜¾ç¤ºçŠ¶æ€

duï¼šç£ç›˜ç©ºé—´ï¼Œå¯¹æ–‡ä»¶å’Œç›®å½•ç£ç›˜ä½¿ç”¨çš„ç©ºé—´çš„æŸ¥çœ‹

```
-a æ˜¾ç¤ºç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶å¤§å°
-k ä»¥KBä¸ºå•ä½æ˜¾ç¤ºæ–‡ä»¶å¤§å°
-m ä»¥MBä¸ºå•ä½æ˜¾ç¤ºæ–‡ä»¶å¤§å°
-g ä»¥GBä¸ºå•ä½æ˜¾ç¤ºæ–‡ä»¶å¤§å°
-h ä»¥æ˜“è¯»æ–¹å¼æ˜¾ç¤ºæ–‡ä»¶å¤§å°
-s ä»…æ˜¾ç¤ºæ€»è®¡
-cæˆ–--total  é™¤äº†æ˜¾ç¤ºä¸ªåˆ«ç›®å½•æˆ–æ–‡ä»¶çš„å¤§å°å¤–ï¼ŒåŒæ—¶ä¹Ÿæ˜¾ç¤ºæ‰€æœ‰ç›®å½•æˆ–æ–‡ä»¶çš„æ€»å’Œ
```

df: æ˜¾ç¤ºç£ç›˜ä½¿ç”¨æƒ…å†µ

```
-a å…¨éƒ¨æ–‡ä»¶ç³»ç»Ÿåˆ—è¡¨
-h ä»¥æ–¹ä¾¿é˜…è¯»çš„æ–¹å¼æ˜¾ç¤ºä¿¡æ¯
-i æ˜¾ç¤ºinodeä¿¡æ¯
-k åŒºå—ä¸º1024å­—èŠ‚
-l åªæ˜¾ç¤ºæœ¬åœ°ç£ç›˜
-T åˆ—å‡ºæ–‡ä»¶ç³»ç»Ÿç±»å‹
```

top

freeï¼šæŸ¥çœ‹å†…å­˜

date

cal

ç­‰

### æ–‡ä»¶æœç´¢å’ŒæŸ¥æ‰¾

find: ä¸–çºªæœç´¢ç¡¬ç›˜æŸ¥è¯¢æ–‡ä»¶åç§°

which : æŸ¥çœ‹å¯æ‰§è¡Œæ–‡ä»¶çš„ä½ç½®

whereis : æŸ¥çœ‹æ–‡ä»¶çš„ä½ç½®

locate: é…åˆæ•°æ®åº“æŸ¥çœ‹æ–‡ä»¶ä½ç½®

```shell
locate /etc/sh  # åœ¨etcç›®å½•ä¸‹æ‰€æœ‰ä»¥shå¼€å¤´çš„æ–‡ä»¶
```



### ç”¨æˆ·ç®¡ç†

useradd

userdel

usermod

groupadd

id

passwd

chage

su

visudoï¼š/etc/sudoers

sudo

### åŸºæœ¬çš„ç½‘ç»œç®¡ç†

ip

ping

route

telnet

ssh

scp

wget

curl 

ifconfig

netstat

ss

ifup

ifdown

nslookup

dig

> ifconfig å’Œip address å¯ä»¥æ˜¾ç¤ºipåœ°å€

### è¿›é˜¶ç½‘ç»œå‘½ä»¤

nmap

lsof 

iftop

mail

host

tcpdump

traceroute

### ç£ç›˜ç›¸å…³å‘½ä»¤

fdisk

mount

unmount

fsck

dd

mkfs

mkswap

swapon

swapoff

sync

ç­‰

### ç³»ç»Ÿæƒé™ä»¥åŠç”¨æˆ·æˆæƒç›¸å…³

chown 

chmod: æ”¹å˜æ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æƒé™

å¸¸ç”¨å‚æ•°ï¼š

```
-c å½“å‘ç”Ÿæ”¹å˜æ—¶ï¼ŒæŠ¥å‘Šå¤„ç†ä¿¡æ¯
-R å¤„ç†æŒ‡å®šç›®å½•ä»¥åŠå…¶å­ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶
```

æƒé™èŒƒå›´ï¼š

```
u ï¼šç›®å½•æˆ–è€…æ–‡ä»¶çš„å½“å‰çš„ç”¨æˆ·
g ï¼šç›®å½•æˆ–è€…æ–‡ä»¶çš„å½“å‰çš„ç¾¤ç»„
o ï¼šé™¤äº†ç›®å½•æˆ–è€…æ–‡ä»¶çš„å½“å‰ç”¨æˆ·æˆ–ç¾¤ç»„ä¹‹å¤–çš„ç”¨æˆ·æˆ–è€…ç¾¤ç»„
a ï¼šæ‰€æœ‰çš„ç”¨æˆ·åŠç¾¤ç»„
```

æƒé™ä»£å·ï¼š

```
r ï¼šè¯»æƒé™ï¼Œç”¨æ•°å­—4è¡¨ç¤º
w ï¼šå†™æƒé™ï¼Œç”¨æ•°å­—2è¡¨ç¤º
x ï¼šæ‰§è¡Œæƒé™ï¼Œç”¨æ•°å­—1è¡¨ç¤º
- ï¼šåˆ é™¤æƒé™ï¼Œç”¨æ•°å­—0è¡¨ç¤º
s ï¼šç‰¹æ®Šæƒé™
```

å®ä¾‹ï¼š

```shell
chmod a+x t.log  # å¢åŠ æ‰€æœ‰ç”¨æˆ·å¯æ‰§è¡Œæƒé™
```



chgrp

umask

### æŸ¥çœ‹ç³»ç»Ÿç™»é™†ä¿¡æ¯

w

who

whoai 

last

lastlog

users

### ç³»ç»Ÿå†…ç½®å‘½ä»¤

echo

date

alias  rm

rpm

yum

printf

clear

history

time

nc

exec

export

type

ç­‰

### ç³»ç»Ÿç®¡ç†å’Œç›‘æ§

systemctl enable

chkconfig

vmstat

mpstat

iostat

sarï¼šç›¸å½“äºä»»åŠ¡ç®¡ç†å™¨

ipcs

service

iptable

firewalld

### è¿›ç¨‹ç®¡ç†

ps

pstree

pgrep

kill

pkill

killall

jobs

fg

bg

exit

ctrl+d

nice

runlevel

## ç³»ç»Ÿç›®å½•ç»“æ„

![img](LinuxåŸºç¡€.assets/d0c50-linux2bfile2bsystem2bhierarchy.jpg)

ä»¥ä¸‹æ˜¯å¯¹è¿™äº›ç›®å½•çš„è§£é‡Šï¼š

- **/bin**ï¼š
  bin æ˜¯ Binaries (äºŒè¿›åˆ¶æ–‡ä»¶) çš„ç¼©å†™, è¿™ä¸ªç›®å½•å­˜æ”¾ç€æœ€ç»å¸¸ä½¿ç”¨çš„å‘½ä»¤ã€‚

- **/bootï¼š**
  è¿™é‡Œå­˜æ”¾çš„æ˜¯å¯åŠ¨ Linux æ—¶ä½¿ç”¨çš„ä¸€äº›æ ¸å¿ƒæ–‡ä»¶ï¼ŒåŒ…æ‹¬ä¸€äº›è¿æ¥æ–‡ä»¶ä»¥åŠé•œåƒæ–‡ä»¶ã€‚

- **/dev ï¼š**
  dev æ˜¯ Device(è®¾å¤‡) çš„ç¼©å†™, è¯¥ç›®å½•ä¸‹å­˜æ”¾çš„æ˜¯ Linux çš„å¤–éƒ¨è®¾å¤‡ï¼Œåœ¨ Linux ä¸­è®¿é—®è®¾å¤‡çš„æ–¹å¼å’Œè®¿é—®æ–‡ä»¶çš„æ–¹å¼æ˜¯ç›¸åŒçš„ã€‚

- **/etcï¼š**
  etc æ˜¯ Etcetera(ç­‰ç­‰) çš„ç¼©å†™,è¿™ä¸ªç›®å½•ç”¨æ¥å­˜æ”¾æ‰€æœ‰çš„ç³»ç»Ÿç®¡ç†æ‰€éœ€è¦çš„é…ç½®æ–‡ä»¶å’Œå­ç›®å½•ã€‚

- **/home**ï¼š
  ç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œåœ¨ Linux ä¸­ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„ç›®å½•ï¼Œä¸€èˆ¬è¯¥ç›®å½•åæ˜¯ä»¥ç”¨æˆ·çš„è´¦å·å‘½åçš„ï¼Œå¦‚ä¸Šå›¾ä¸­çš„ aliceã€bob å’Œ eveã€‚

- **/lib**ï¼š
  lib æ˜¯ Library(åº“) çš„ç¼©å†™è¿™ä¸ªç›®å½•é‡Œå­˜æ”¾ç€ç³»ç»Ÿæœ€åŸºæœ¬çš„åŠ¨æ€è¿æ¥å…±äº«åº“ï¼Œå…¶ä½œç”¨ç±»ä¼¼äº Windows é‡Œçš„ DLL æ–‡ä»¶ã€‚å‡ ä¹æ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½éœ€è¦ç”¨åˆ°è¿™äº›å…±äº«åº“ã€‚

- **/lost+found**ï¼š
  è¿™ä¸ªç›®å½•ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ç©ºçš„ï¼Œå½“ç³»ç»Ÿéæ³•å…³æœºåï¼Œè¿™é‡Œå°±å­˜æ”¾äº†ä¸€äº›æ–‡ä»¶ã€‚

- **/media**ï¼š
  linux ç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«ä¸€äº›è®¾å¤‡ï¼Œä¾‹å¦‚Uç›˜ã€å…‰é©±ç­‰ç­‰ï¼Œå½“è¯†åˆ«åï¼ŒLinux ä¼šæŠŠè¯†åˆ«çš„è®¾å¤‡æŒ‚è½½åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚

- **/mnt**ï¼š
  ç³»ç»Ÿæä¾›è¯¥ç›®å½•æ˜¯ä¸ºäº†è®©ç”¨æˆ·ä¸´æ—¶æŒ‚è½½åˆ«çš„æ–‡ä»¶ç³»ç»Ÿçš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…‰é©±æŒ‚è½½åœ¨ /mnt/ ä¸Šï¼Œç„¶åè¿›å…¥è¯¥ç›®å½•å°±å¯ä»¥æŸ¥çœ‹å…‰é©±é‡Œçš„å†…å®¹äº†ã€‚

- **/opt**ï¼š
  opt æ˜¯ optional(å¯é€‰) çš„ç¼©å†™ï¼Œè¿™æ˜¯ç»™ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€æ‘†æ”¾çš„ç›®å½•ã€‚æ¯”å¦‚ä½ å®‰è£…ä¸€ä¸ªORACLEæ•°æ®åº“åˆ™å°±å¯ä»¥æ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚é»˜è®¤æ˜¯ç©ºçš„ã€‚

- **/proc**ï¼š
  proc æ˜¯ Processes(è¿›ç¨‹) çš„ç¼©å†™ï¼Œ/proc æ˜¯ä¸€ç§ä¼ªæ–‡ä»¶ç³»ç»Ÿï¼ˆä¹Ÿå³è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼‰ï¼Œå­˜å‚¨çš„æ˜¯å½“å‰å†…æ ¸è¿è¡ŒçŠ¶æ€çš„ä¸€ç³»åˆ—ç‰¹æ®Šæ–‡ä»¶ï¼Œè¿™ä¸ªç›®å½•æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„ç›®å½•ï¼Œå®ƒæ˜¯ç³»ç»Ÿå†…å­˜çš„æ˜ å°„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç›´æ¥è®¿é—®è¿™ä¸ªç›®å½•æ¥è·å–ç³»ç»Ÿä¿¡æ¯ã€‚
  è¿™ä¸ªç›®å½•çš„å†…å®¹ä¸åœ¨ç¡¬ç›˜ä¸Šè€Œæ˜¯åœ¨å†…å­˜é‡Œï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ä¿®æ”¹é‡Œé¢çš„æŸäº›æ–‡ä»¶ï¼Œæ¯”å¦‚å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¥å±è”½ä¸»æœºçš„pingå‘½ä»¤ï¼Œä½¿åˆ«äººæ— æ³•pingä½ çš„æœºå™¨ï¼š

  ```
  echo 1 > /proc/sys/net/ipv4/icmp_echo_ignore_all
  ```

- **/root**ï¼š
  è¯¥ç›®å½•ä¸ºç³»ç»Ÿç®¡ç†å‘˜ï¼Œä¹Ÿç§°ä½œè¶…çº§æƒé™è€…çš„ç”¨æˆ·ä¸»ç›®å½•ã€‚

- **/sbin**ï¼š
  s å°±æ˜¯ Super User çš„æ„æ€ï¼Œæ˜¯ Superuser Binaries (è¶…çº§ç”¨æˆ·çš„äºŒè¿›åˆ¶æ–‡ä»¶) çš„ç¼©å†™ï¼Œè¿™é‡Œå­˜æ”¾çš„æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„ç³»ç»Ÿç®¡ç†ç¨‹åºã€‚

- **/selinux**ï¼š
   è¿™ä¸ªç›®å½•æ˜¯ Redhat/CentOS æ‰€ç‰¹æœ‰çš„ç›®å½•ï¼ŒSelinux æ˜¯ä¸€ä¸ªå®‰å…¨æœºåˆ¶ï¼Œç±»ä¼¼äº windows çš„é˜²ç«å¢™ï¼Œä½†æ˜¯è¿™å¥—æœºåˆ¶æ¯”è¾ƒå¤æ‚ï¼Œè¿™ä¸ªç›®å½•å°±æ˜¯å­˜æ”¾selinuxç›¸å…³çš„æ–‡ä»¶çš„ã€‚

- **/srv**ï¼š
   è¯¥ç›®å½•å­˜æ”¾ä¸€äº›æœåŠ¡å¯åŠ¨ä¹‹åéœ€è¦æå–çš„æ•°æ®ã€‚

- **/sys**ï¼š

  è¿™æ˜¯ Linux2.6 å†…æ ¸çš„ä¸€ä¸ªå¾ˆå¤§çš„å˜åŒ–ã€‚è¯¥ç›®å½•ä¸‹å®‰è£…äº† 2.6 å†…æ ¸ä¸­æ–°å‡ºç°çš„ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ sysfs ã€‚

  sysfs æ–‡ä»¶ç³»ç»Ÿé›†æˆäº†ä¸‹é¢3ç§æ–‡ä»¶ç³»ç»Ÿçš„ä¿¡æ¯ï¼šé’ˆå¯¹è¿›ç¨‹ä¿¡æ¯çš„ proc æ–‡ä»¶ç³»ç»Ÿã€é’ˆå¯¹è®¾å¤‡çš„ devfs æ–‡ä»¶ç³»ç»Ÿä»¥åŠé’ˆå¯¹ä¼ªç»ˆç«¯çš„ devpts æ–‡ä»¶ç³»ç»Ÿã€‚

  è¯¥æ–‡ä»¶ç³»ç»Ÿæ˜¯å†…æ ¸è®¾å¤‡æ ‘çš„ä¸€ä¸ªç›´è§‚åæ˜ ã€‚

  å½“ä¸€ä¸ªå†…æ ¸å¯¹è±¡è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œå¯¹åº”çš„æ–‡ä»¶å’Œç›®å½•ä¹Ÿåœ¨å†…æ ¸å¯¹è±¡å­ç³»ç»Ÿä¸­è¢«åˆ›å»ºã€‚

- **/tmp**ï¼š
  tmp æ˜¯ temporary(ä¸´æ—¶) çš„ç¼©å†™è¿™ä¸ªç›®å½•æ˜¯ç”¨æ¥å­˜æ”¾ä¸€äº›ä¸´æ—¶æ–‡ä»¶çš„ã€‚

- **/usr**ï¼š
   usr æ˜¯ unix shared resources(å…±äº«èµ„æº) çš„ç¼©å†™ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç›®å½•ï¼Œç”¨æˆ·çš„å¾ˆå¤šåº”ç”¨ç¨‹åºå’Œæ–‡ä»¶éƒ½æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œç±»ä¼¼äº windows ä¸‹çš„ program files ç›®å½•ã€‚

- **/usr/binï¼š**
  ç³»ç»Ÿç”¨æˆ·ä½¿ç”¨çš„åº”ç”¨ç¨‹åºã€‚

- **/usr/sbinï¼š**
  è¶…çº§ç”¨æˆ·ä½¿ç”¨çš„æ¯”è¾ƒé«˜çº§çš„ç®¡ç†ç¨‹åºå’Œç³»ç»Ÿå®ˆæŠ¤ç¨‹åºã€‚

- **/usr/srcï¼š**
  å†…æ ¸æºä»£ç é»˜è®¤çš„æ”¾ç½®ç›®å½•ã€‚

- **/var**ï¼š
  var æ˜¯ variable(å˜é‡) çš„ç¼©å†™ï¼Œè¿™ä¸ªç›®å½•ä¸­å­˜æ”¾ç€åœ¨ä¸æ–­æ‰©å……ç€çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬ä¹ æƒ¯å°†é‚£äº›ç»å¸¸è¢«ä¿®æ”¹çš„ç›®å½•æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚åŒ…æ‹¬å„ç§æ—¥å¿—æ–‡ä»¶ã€‚

- **/run**ï¼š
  æ˜¯ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿï¼Œå­˜å‚¨ç³»ç»Ÿå¯åŠ¨ä»¥æ¥çš„ä¿¡æ¯ã€‚å½“ç³»ç»Ÿé‡å¯æ—¶ï¼Œè¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶åº”è¯¥è¢«åˆ æ‰æˆ–æ¸…é™¤ã€‚å¦‚æœä½ çš„ç³»ç»Ÿä¸Šæœ‰ /var/run ç›®å½•ï¼Œåº”è¯¥è®©å®ƒæŒ‡å‘ runã€‚

åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œæœ‰å‡ ä¸ªç›®å½•æ˜¯æ¯”è¾ƒé‡è¦çš„ï¼Œå¹³æ—¶éœ€è¦æ³¨æ„ä¸è¦è¯¯åˆ é™¤æˆ–è€…éšæ„æ›´æ”¹å†…éƒ¨æ–‡ä»¶ã€‚

**/etc**ï¼š ä¸Šè¾¹ä¹Ÿæåˆ°äº†ï¼Œè¿™ä¸ªæ˜¯ç³»ç»Ÿä¸­çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æœä½ æ›´æ”¹äº†è¯¥ç›®å½•ä¸‹çš„æŸä¸ªæ–‡ä»¶å¯èƒ½ä¼šå¯¼è‡´ç³»ç»Ÿä¸èƒ½å¯åŠ¨ã€‚

**/bin, /sbin, /usr/bin, /usr/sbin**: è¿™æ˜¯ç³»ç»Ÿé¢„è®¾çš„æ‰§è¡Œæ–‡ä»¶çš„æ”¾ç½®ç›®å½•ï¼Œæ¯”å¦‚ **ls** å°±æ˜¯åœ¨ **/bin/ls** ç›®å½•ä¸‹çš„ã€‚

å€¼å¾—æå‡ºçš„æ˜¯ **/bin**ã€**/usr/bin** æ˜¯ç»™ç³»ç»Ÿç”¨æˆ·ä½¿ç”¨çš„æŒ‡ä»¤ï¼ˆé™¤ root å¤–çš„é€šç”¨ç”¨æˆ·ï¼‰ï¼Œè€Œ/sbin, /usr/sbin åˆ™æ˜¯ç»™ root ä½¿ç”¨çš„æŒ‡ä»¤ã€‚

**/var**ï¼š è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç›®å½•ï¼Œç³»ç»Ÿä¸Šè·‘äº†å¾ˆå¤šç¨‹åºï¼Œé‚£ä¹ˆæ¯ä¸ªç¨‹åºéƒ½ä¼šæœ‰ç›¸åº”çš„æ—¥å¿—äº§ç”Ÿï¼Œè€Œè¿™äº›æ—¥å¿—å°±è¢«è®°å½•åˆ°è¿™ä¸ªç›®å½•ä¸‹ï¼Œå…·ä½“åœ¨ /var/log ç›®å½•ä¸‹ï¼Œå¦å¤– mail çš„é¢„è®¾æ”¾ç½®ä¹Ÿæ˜¯åœ¨è¿™é‡Œã€‚

## å¸¸ç”¨è½¯ä»¶

vim: æ–‡æœ¬ç¼–è¾‘å™¨

wget: ä¸‹è½½å·¥å…·

lrzsz: windowså‘Linuxä¸Šä¼ ä¸‹è½½å·¥å…·

tree

centOSå®‰è£…`yum install -y vim tree lrzsz wget curl unzip`

## æ›´æ”¹è½¯ä»¶æº

1. cd /etc/yum.repos.d/CentOS-Base.repo
2. mv CentOS.Base.repo CentOS.Base.repo.bak
3. ä¸‹è½½é˜¿é‡Œæºï¼šwget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/CentOS-7.repo
4. yum clean all
5. yum makecache

## ä¿®æ”¹é™æ€ipåœ°å€
æŒ‡å®šé™æ€ipåœ°å€

ç½‘å¡é…ç½®æ–‡ä»¶  centOSç³»ç»Ÿä¸­`/etc/sysconfig/network-scripts/ifcfg-ens33`ç½‘å¡é…ç½®æ–‡ä»¶



ä¿®æ”¹ç½‘ç»œé…ç½®æ–‡ä»¶



## å…³é—­ä¸€äº›æœåŠ¡

å…³é—­é˜²ç«å¢™ï¼š

systemctl stop firewalld

systemctl disable firewalld

systemctl stop NetworkManager

systemctl disable NetworkManager

## ä¸èƒ½ä¸Šç½‘æ’æŸ¥æµç¨‹

1. æ£€æŸ¥æ•°æ®é“¾è·¯/ä¼ è¾“ä»‹è´¨
2. ping ç½‘å…³ï¼ˆè·¯ç”±å™¨/NATï¼‰ping 10.0.0.2 è‡ªå·±çš„ç½‘å…³
3. ping DNSæœåŠ¡å™¨ ping www.baidu.com
4. ping 114.114.114.114
5. æ£€æŸ¥ç½‘å¡å’Œé…ç½®æ–‡ä»¶/é˜²ç«å¢™æ˜¯å¦æ­£ç¡®

## kali Linuxå®‰è£…æ³¨æ„äº‹é¡¹

## Docker

### å®‰è£…

1. å†…æ ¸ç‰ˆæœ¬3.10ä»¥ä¸Š

2. å®‰è£…ä¾èµ–é¡¹ï¼šyum install -y yum-utils device-mapper-persistent-data  lvm2

3. é…ç½®é˜¿é‡Œäº‘æºï¼šyum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo

4. yum list docker-ce --showduplicates | sort -r

5. å®‰è£…æŒ‡å®šç‰ˆæœ¬yum install -y docker-ce-18.09.9 docker-ce-cli-18.09.9

   å®‰è£…æœ€æ–°ç‰ˆæœ¬yum install -y docker-ce

6. å¯åŠ¨systemctl start docker

   å¼€æœºè‡ªå¯åŠ¨systemctl enable docker

7. æŸ¥çœ‹ç‰ˆæœ¬docker versionå¾—åˆ°å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½æ˜¯18.09.9



### ä¼˜åŒ–

å›½å†…é•œåƒåŠ é€Ÿï¼š

vim /etc/docker/daemon.json

æ·»åŠ `{  "registry-mirrors": ["https://eq0plkca.mirror.aliyuncs.com"] }`é€€å‡º

sudo systemctl daemon-reload 

sudo systemctl restart docker

### é…ç½®

1. æ¨¡æ¿æœºå…³æœºåå…‹éš†ä¸€ä¸ªæ–°çš„è™šæ‹Ÿæœº

2. æ”¹åhostnamectl set-hostname dvwa

3. xshellè¿œç¨‹è¿æ¥

4. docker versionéªŒè¯æ˜¯å¦å¯åŠ¨äº†ï¼ˆå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½æœ‰ï¼‰

   <img src="LinuxåŸºç¡€.assets/image-20220710095456417.png" alt="image-20220710095456417" style="zoom:80%;" />

5. dockeré•œåƒçš„ç”¨æ³•docker pull infoslack/dvwa

6. docker images æŸ¥çœ‹æ˜¯å¦ä¸‹è½½æˆåŠŸ

7. docker run -d -p 80:80 -p 3306:3306 -e MYSQL_PASS="password" infostack/dvwa

   å¦‚æœå‡ºç°`WARNING: IPv4 forwarding is disabled. Networking will not work.`å°±è¦`\# vim /etc/sysctl.conf  æ·»åŠ  net.ipv4.ip_forward=1    #æ·»åŠ æ­¤è¡Œé…ç½® `

8. docker ps æŸ¥çœ‹

   ![image-20220710095912035](LinuxåŸºç¡€.assets/image-20220710095912035.png)

9. æ‰“å¼€æµè§ˆå™¨è¾“å…¥ipåœ°å€å‡ºç°

   <img src="LinuxåŸºç¡€.assets/image-20220710095531352.png" alt="image-20220710095531352" style="zoom:50%;" />



## CentOSä¼˜åŒ–

è®¾ç½®ä¸»æœºåç§°ï¼šhostnamectl set-hostname sec

æ”¹ä¸»é¢˜é¢œè‰²

### shell

> shell æ˜¯ç”¨æˆ·å’Œç³»ç»Ÿä¹‹é—´çš„æ¡¥æ¢
>
> shellæ˜¯å‘½ä»¤è§£é‡Šå™¨ï¼Œä¾‹å¦‚ls
>
> shellæ˜¯ä¸€ç§ç¨‹åºè®¾è®¡è¯­è¨€ï¼Œé«˜çº§è¯­è¨€

#### ä¸ºä»€ä¹ˆè¦ç”¨shell



#### å¦‚ä½•ä½¿ç”¨shell

äº¤äº’å¼ï¼šé€šè¿‡shellå‘½ä»¤ CLI

éäº¤äº’å¼ï¼šé€šè¿‡shellè„šæœ¬ sh

### Linuxé‡è¦çš„ç›®å½•å’Œæ–‡ä»¶

1. `/etc/sysconfig/network-scripts`: ç½‘å¡é…ç½®æ–‡ä»¶ç›®å½•é…ç½®é™æ€ipåœ°å€ï¼Œå‚è€ƒä¸Šé¢
2. `/etc/fstab`: æŒ‚è½½ç‚¹ï¼Œ
3. `/etc/hostname`: ä¸»æœºå
4. `etc/hosts`:
5. `etc/resolv.conf`: DNS
6. `etc/profile`: 
7. `etc/shells`: æŸ¥çœ‹å·²ç»è£…äº†çš„shell
8. `etc/bashrc`: å…¨å±€é…ç½®æ–‡ä»¶ï¼Œæ”¹å˜ç»ˆç«¯é¢œè‰²
9. `etc/init.d`: 
10. `etc/inittab`: è¿è¡Œçº§åˆ«
11. `/etc/sudoers`: root ç”¨æˆ·æƒé™
12. `/etc/shadow`: ä¿å­˜åŠ å¯†åçš„å¯†ç 
13. `/etc/yum.repos.d`: yumè½¯ä»¶ä»“åº“æº
14. `/usr/local/opt`: ç›¸å½“äº`C:\Program File`
15. `/etc/group`: è®¾å®šç”¨æˆ·ç›¸å…³ä¿¡æ¯
16. `/usr/local`: 
17. `/etc/sysctl.conf`: å†…æ ¸é…ç½®æ–‡ä»¶
18. `/usr/log`: æ—¥å¿—
19. `/proc`: å†…æ ¸ä¿¡æ¯å’Œè¿›ç¨‹æ–¹é¢çš„ä¿¡æ¯
20. `/bin`: ç”¨æˆ·å¸¸ç”¨å‘½ä»¤
21. `/sbin`: å­˜æ”¾ç³»ç»Ÿå‘½ä»¤
22. `/root`: rootç”¨æˆ·çš„å®¶ç›®å½•
23. `/home`: å®¶ç›®å½•
24. `/boot`: å¯åŠ¨ä¿¡æ¯
25. Linuxç³»ç»Ÿå®šæ—¶ä»»åŠ¡çš„ç›®å½•`crontab`

## Kalié…ç½®

å®‰è£…åˆ°ç§»åŠ¨ç¡¬ç›˜åªéœ€ç”¨Win32Diskçƒ§å½•

1. ä¿®æ”¹ç”¨æˆ·å¯†ç `passwd root`

2. æ·»åŠ æ™®é€šç”¨æˆ·`adduser xxx`

3. é…ç½®é™æ€ip `vim /etc/resolv.conf`

4. å¯åŠ¨DHCPï¼š

   >  `update-rc.d networking defaults`
   >
   > <br>
   >
   > `/etc/init.d/networking restart`

   

## é…ç½®Pythonç¯å¢ƒ

```python
sudo apt install python3-venv

mkdir bhp
python3 -m venv bhp
source bhp/bin/activate  # å³å¯åˆ‡æ¢ç¯å¢ƒ
```



